<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.jayblog.mapper.PostMapper">
  
  	<resultMap type="blogVO" id="BlogVO">
	  	<result property="bno" column="bno" jdbcType="INTEGER" javaType="int" />
	    <result property="title" column="title" jdbcType="VARCHAR" javaType="String" />
	    <result property="content" column="content" jdbcType="CLOB" javaType="java.lang.String" />
	    <result property="date" column="date" jdbcType="DATE" javaType="String" ></result>
  	</resultMap>
  	<insert id="createPost">
  		insert into posts (title, content, date)
  		values(#{title}, #{content}, now())
  	</insert>
  	<select id="getPostCount" resultType="int">
		select count(*) from posts
	</select>
	
	<select id="getPostList" parameterType="Map" resultMap="BlogVO">
		select bno, title, date from posts
	</select>
	
	<select id="readPost" parameterType="Integer" resultMap="BlogVO">
		select * from posts
		<where>
			#{bno} = bno
		</where>
	</select>
	
	<update id="updatePost">
		update posts set
		content = #{content},
		date = #{date}		
		<where>
			bno = #{bno}
		</where>
	</update>
  </mapper>